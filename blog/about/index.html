
<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="Ramblings by a developer">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Firm - A blog-aware, static site generator</title>
    <link rel="shortcut icon" href='http://andagr.github.io/Firm/favicon.png'>
    <link rel="alternate" type="application/rss+xml" title="Firm" href='http://andagr.github.io/Firm/blog/rss.xml' />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href='http://andagr.github.io/Firm/css/FSharp.Formatting/styles/style.css'>
    <link rel="stylesheet" href='http://andagr.github.io/Firm/css/firm.css'>
    <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <script>window.html5 || document.write('<script src="js/vendor/html5shiv.js"><\/script>')</script>
    <![endif]-->
</head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href='http://andagr.github.io/Firm/'>Firm</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class=""><a href='http://andagr.github.io/Firm/blog/about'>About</a></li>
                    <li class=""><a href='http://andagr.github.io/Firm/blog/archive'>Archive</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div id="topsection" class="jumbotron">
        <div class="container">
            <h1><a href='http://andagr.github.io/Firm/'>Firm</a></h1>
            <p>A blog-aware, static site generator</p>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div id="main-panel" class="col-md-8">
                


<div>
    <h1>About</h1>

<p>Firm is a blog-aware, static site generator written in <a href="http://fsharp.org">F#</a>.</p>

<h1>Features</h1>

<p>It supports stand-alone pages, blog posts, rss, tags (tag cloud) and post archive. Templates are written in <a href="https://github.com/Antaris/RazorEngine">Razor</a>. Posts and pages are written in <a href="http://daringfireball.net/projects/markdown/">Markdown</a>.</p>

<h1>Getting started</h1>

<ol>
<li>Fork the project at <a href="https://github.com/andagr/Firm"><a href="https://github.com/andagr/Firm">https://github.com/andagr/Firm</a></a>.</li>
<li>Clone it to a local directory.</li>
<li><p>Create the folders <code>data\templates\razor</code> and add the following template files:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
 <span class="i">archive</span><span class="o">.</span><span class="i">cshtml</span>
 <span class="i">index</span><span class="o">.</span><span class="i">cshtml</span>
 <span class="i">page</span><span class="o">.</span><span class="i">cshtml</span>
 <span class="i">post</span><span class="o">.</span><span class="i">cshtml</span>
 <span class="i">_layout</span><span class="o">.</span><span class="i">cshtml</span>
</pre>
</td>
</tr>
</table></li>
<li><p>The names should hint at what they should do, and if you need some inspiration then look in the <a href="https://github.com/andagr/Firm/tree/data">data branch of this repo</a>.</p></li>
</ol>

<h2>Creating your first blog post</h2>

<ol>
<li><p>To write your first blog post, create the directory <code>data\input\blog\post\&lt;name-of-blog-post&gt;</code> and add the following files:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
 <span class="i">index</span><span class="o">.</span><span class="i">md</span>
 <span class="i">meta</span><span class="o">.</span><span class="i">json</span>
</pre>
</td>
</tr>
</table></li>
<li><p>Open meta.json and add data about the post, example:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
 {
     <span class="s">&quot;title&quot;</span><span class="o">:</span> <span class="s">&quot;Hello&quot;</span>,
     <span class="s">&quot;date&quot;</span><span class="o">:</span> <span class="s">&quot;2015-05-28 21:14:00&quot;</span>,
     <span class="s">&quot;tags&quot;</span><span class="o">:</span> [ <span class="s">&quot;blog&quot;</span>, <span class="s">&quot;hello&quot;</span> ]
 }
</pre>
</td>
</tr>
</table></li>
<li>Open <code>index.md</code> in your favorite Markdown editor and write a post.</li>
<li>Open <code>config.json</code> in the Firm root directory and change <code>baseUrl</code> to <code>http://locahost:8080</code>. Also take this moment and change the other settings to your liking.</li>
<li>Open a console in the root directory of Firm and type: <code>firm generate</code>. Dependencies should now be downloaded, project built and web site generated into the folder <code>output</code>.</li>
<li>In the console, run <code>firm preview</code>, verify that the site looks good and then hit <code>[Enter]</code> in the console to exit preview mode.</li>
<li>Open <code>config.json</code> again and change <code>baseUrl</code> to the root url of your site, if it's on GitHub Pages (see publishing below) then it's most likely <a href="http://(user).github.io/Firm.">http://(user).github.io/Firm.</a></li>
<li>Open a console in the root directory of Firm and run <code>firm regenerate</code>. Please note that it's <code>regenerate</code>, not <code>generate</code>, Firm will only generate new content for the latter command, and we want to generate everything again to make sure that url's are updated correctly.</li>
<li><strong>Don't forget to add, commit and push the changes to your repository.</strong>
<ul>
<li>The <code>data</code> folder is ignored by default, you can open <code>.gitignore</code> and remove the entry, it's at the very bottom of the file.</li>
<li>The <code>output</code> folder is also ignored by default, you can either remove the entry or follow the instructions for publishing to GitHub Pages below.</li>
</ul></li>
</ol>

<h2>Publishing to GitHub Pages</h2>

<p>There are <a href="https://www.google.com/search?q=static+website+hosting">many different hosts for static websites</a>, but in this guide I will refer to <a href="https://pages.github.com/">GitHub Pages</a>. Please note that in this case I refer to GitHub Pages for project sites.</p>

<h3>One time setup</h3>

<ol>
<li><p>Open a console in the root directory of Firm and create a new branch:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
 <span class="i">git</span> <span class="i">branch</span> <span class="i">gh</span><span class="o">-</span><span class="i">pages</span>
 <span class="i">git</span> <span class="i">checkout</span> <span class="i">gh</span><span class="o">-</span><span class="i">pages</span>
</pre>
</td>
</tr>
</table></li>
<li>Delete everything except the <code>output</code> directory.</li>
<li>Move the content of the <code>output</code> directory to the root directory of Firm.</li>
<li>Delete the now empty <code>output</code> directory.</li>
<li><p>Stage, commit and publish/push the changes:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
 <span class="i">git</span> <span class="i">add</span> <span class="o">-</span><span class="i">A</span> <span class="o">*</span>
 <span class="i">git</span> <span class="i">commit</span> <span class="o">-</span><span class="i">m</span> <span class="s">&quot;Created first blog post!&quot;</span>
 <span class="i">git</span> <span class="i">push</span> <span class="o">--</span><span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">set</span><span class="o">-</span><span class="i">upstream</span> <span class="i">origin</span> <span class="i">gh</span><span class="o">-</span><span class="i">pages</span>
</pre>
</td>
</tr>
</table></li>
<li><p>Switch back to the master branch:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
 <span class="i">git</span> <span class="i">checkout</span> <span class="i">master</span>
</pre>
</td>
</tr>
</table></li>
<li><p>Now here's the trick, we want to store the <code>gh-pages</code> branch in the <code>output</code> directory, so that when we create a new post we can simply move into that directory and push the changes directly to the correct branch. In a console in the root directory of Firm, clone the <code>gh-pages</code> branch into the <code>output</code> directory:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
 <span class="i">git</span> <span class="i">clone</span> <span class="o">-</span><span class="i">b</span> <span class="i">gh</span><span class="o">-</span><span class="i">pages</span> <span class="i">https</span><span class="o">:</span><span class="c">//github.com/(user)/Firm.git output</span>
</pre>
</td>
</tr>
</table></li>
</ol>

<h3>Creating a repeatable workflow</h3>

<ol>
<li>Add or edit a post or page.</li>
<li>Change config.json:baseUrl to <a href="http://localhost:8080.">http://localhost:8080.</a></li>
<li>Run <code>firm regenerate</code> to generate your site in the <code>output</code> folder.</li>
<li>Run <code>firm preview</code> and verify that it looks ok.</li>
<li>Change back config.json.</li>
<li>Run <code>firm regenerate</code> again.</li>
<li>Add, commit and push changes on both your <code>master</code> and <code>gh-pages</code> branches.</li>
</ol>

<p>You're done! All you have to do from now on is create content, verify that it looks ok and then push it to GitHub Pages.</p>

<p>Happy blogging!</p>

<h1>Thanks to</h1>

<ul>
<li><a href="https://github.com/fsprojects/FsBlog">FsBlog</a> - For the idea.</li>
<li><a href="https://github.com/tpetricek/FSharp.Formatting">FSharp.Formatting</a> - Markdown parsing and code formatting.</li>
<li><a href="https://github.com/Antaris/RazorEngine">RazorEngine</a> - Templates.</li>
<li><a href="https://github.com/fsharp/FAKE">FAKE</a> - Building and general tool.</li>
<li><a href="https://github.com/fsharp/FSharp.Data">FSharp.Data</a> - JSON parsing.</li>
</ul>

<div class="tip" id="fs1">val set : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.set</div>


</div>
            </div>
            <div id="right-panel" class="col-md-4">
                <div id="tag-cloud">
                        <a class="tag tag-unselected" data-postcount="1" href='http://andagr.github.io/Firm/blog/archive?tag=literate'>literate</a>
                        <a class="tag tag-unselected" data-postcount="1" href='http://andagr.github.io/Firm/blog/archive?tag=programming'>programming</a>
                        <a class="tag tag-unselected" data-postcount="1" href='http://andagr.github.io/Firm/blog/archive?tag=f%23'>f#</a>
                        <a class="tag tag-unselected" data-postcount="1" href='http://andagr.github.io/Firm/blog/archive?tag=blog'>blog</a>
                        <a class="tag tag-unselected" data-postcount="2" href='http://andagr.github.io/Firm/blog/archive?tag=lorem'>lorem</a>
                        <a class="tag tag-unselected" data-postcount="1" href='http://andagr.github.io/Firm/blog/archive?tag=wizard'>wizard</a>
                        <a class="tag tag-unselected" data-postcount="1" href='http://andagr.github.io/Firm/blog/archive?tag=bacon'>bacon</a>
                </div>
                <div id="latest-posts">
                    <h3>Latest posts</h3>
                        <h4>
                            <a href='http://andagr.github.io/Firm/blog/post/literate-programming/'>Literate programming</a>
                            <br/>
                            <small>2015-07-27 21:00:00</small>
                        </h4>
                        <h4>
                            <a href='http://andagr.github.io/Firm/blog/post/welcome-to-firm/'>Welcome To Firm</a>
                            <br/>
                            <small>2015-05-29 21:28:00</small>
                        </h4>
                        <h4>
                            <a href='http://andagr.github.io/Firm/blog/post/wizard-of-oz/'>Wizard of Oz</a>
                            <br/>
                            <small>2015-05-29 20:37:00</small>
                        </h4>
                        <h4>
                            <a href='http://andagr.github.io/Firm/blog/post/bacon-ipsum/'>Everything Is Better With Bacon</a>
                            <br/>
                            <small>2015-05-29 20:20:00</small>
                        </h4>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="row">
            <div class="col-md-4">
                <p>This site is generated with <a href="https://github.com/andagr/Firm">Firm</a> and hosted on <a href="https://github.com/andagr/Firm">Github</a>.</p>
                <p>By <a href="https://github.com/andagr">Andreas Ågren</a>.</p>
            </div>
        </div>
    </footer>
    
    <a href="https://github.com/andagr/Firm">
        <img style="position: absolute; top: 50px; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
    </a>

    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script type="text/javascript" src='http://andagr.github.io/Firm/js/ie10-viewport-bug-workaround.js'></script>
    <script type="text/javascript" src='http://andagr.github.io/Firm/js/FSharp.Formatting/tips.js'></script>
    <script type="text/javascript" src='http://andagr.github.io/Firm/js/netext.js'></script>
</body>
</html>
